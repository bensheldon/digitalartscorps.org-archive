<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" dir="ltr">
<head>
	<title>The Rubaiyat of MATSUMOTO Yukihiro | Digital Arts Service Corps</title>
	
	<link rel="stylesheet" href="../sites/digitalartscorps.org/themes/nostalgiacorps/reset.css" type="text/css" media="all" />
	
	<link type="text/css" rel="stylesheet" media="all" href="../modules/book/book.css%3Fs.css" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/node/node.css%3Fs.css" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/defaults.css%3Fs.css" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/system.css%3Fs.css" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/system-menus.css%3Fs.css" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/user/user.css%3Fs.css" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/cck/theme/content-module.css%3Fs.css" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/filefield/filefield.css%3Fs.css" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/tagadelic/tagadelic.css%3Fs.css" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/typogrify/typogrify.css%3Fs.css" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/forum/forum.css%3Fs.css" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/cck/modules/fieldgroup/fieldgroup.css%3Fs.css" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/comment/comment.css%3Fs.css" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/digitalartscorps.org/themes/nostalgiacorps/reset.css%3Fs.css" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/digitalartscorps.org/themes/nostalgiacorps/960.css%3Fs.css" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/digitalartscorps.org/themes/nostalgiacorps/style.css%3Fs.css" />
	
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="shortcut icon" href="../sites/digitalartscorps.org/files/favicon_2.ico" type="image/x-icon" />
	
	<script type="text/javascript" src="../misc/jquery.js%3Fs"></script>
<script type="text/javascript" src="../misc/drupal.js%3Fs"></script>
<script type="text/javascript" src="../misc/tableheader.js%3Fs"></script>
<script type="text/javascript">
<!--//--><![CDATA[//><!--
jQuery.extend(Drupal.settings, { "basePath": "/", "googleanalytics": { "trackOutgoing": 1, "trackMailto": 1, "trackDownload": 1, "trackDownloadExtensions": "7z|aac|avi|csv|doc|exe|flv|gif|gz|jpe?g|js|mp(3|4|e?g)|mov|pdf|phps|png|ppt|rar|sit|tar|torrent|txt|wma|wmv|xls|xml|zip" } });
//--><!]]>
</script>
	
	<style type="text/css">
		img, div, a, input { behavior: url(http://digitalartscorps.org/node/iepngfix.htc) }
	</style>	

	<script language="javascript" type="text/javascript" src="../sites/digitalartscorps.org/themes/nostalgiacorps/js/jquery.flow.1.2.auto&#32;2.js"></script>
	<script language="javascript" type="text/javascript" src="../sites/digitalartscorps.org/themes/nostalgiacorps/js/iepngfix_tilebg.js"></script>
	<script language="javascript" type="text/javascript" src="../sites/digitalartscorps.org/themes/nostalgiacorps/js/newsSlider.js"></script>

</head>

<body>
	
	<!-- Navigation -->
		<div id="top">
		<div id="topContent">
			<div class="container_16" id="bigNav">
				<div class="navItem grid_4 siteLogo">	
					<a href="../index.html">
						<img  class="grid_4" src="../sites/digitalartscorps.org/themes/nostalgiacorps/images/logo.png" alt="Logo" />
					</a>
					<div id="siteMission">
						<p>"building the capacity of public media and technology organizations"</p>
					</div>

				</div>
				
				<div class="navItem grid_2">		
					<a href="../corps/current.html">		
						<img  src="../sites/digitalartscorps.org/themes/nostalgiacorps/images/nav_CurrentCorps.png" width="100">
						<p>Current Corps</p>
					</a>
				</div>
				<div class="navItem grid_2">
					<a href="../benefits.html">			
						<img  src="../sites/digitalartscorps.org/themes/nostalgiacorps/images/nav_Report.png" width="100" >
						<p>Benefits &amp; More</p>
					<a href="http://digitalartscorps.org/node/index.php?section=benefits">
				</a>
				</div>
				<div class="navItem grid_2">		
					<a href="../field-reports.html">
							<img  src="../sites/digitalartscorps.org/themes/nostalgiacorps/images/nav_fieldReport.png" width="100">
							<p>Field Reports</p>
					</a>
				</div>
				<div class="navItem grid_2">		
					<a href="../corps/alumni.html">
						<img  src="../sites/digitalartscorps.org/themes/nostalgiacorps/images/nav_AlumniCorps2.png" width="100">
						<p>Alumni Corps</p>
					</a>
				</div>
				<div class="navItem grid_2">		
					<a href="../wiki.html">
						<img  src="../sites/digitalartscorps.org/themes/nostalgiacorps/images/nav_Wiki2.png" width="100">
						<p>The Wiki</p>
					</a>
				</div>
				<div class="navItem grid_2">		
					<a href="../contact.html">
						<img  src="../sites/digitalartscorps.org/themes/nostalgiacorps/images/nav_contact2.png" width="100">
						<p style="margin-top: -5px;">Contact Us</p>
				</a>
				</div>
			</div>
		</div>
	</div>
	
	<div class="clear"></div>
	<div id="navContent" class="container_16">
		<div id="topContentNav">
			<div id="emboss"></div>
			<img src="../sites/digitalartscorps.org/themes/nostalgiacorps/images/star.png" width="90px">
			<p id="login"><a href="../user.html">log-in</a></p>
			
		</div>
	</div>	
	
		
	<div id="middleContent" class="container_16">
	
		 
		
		 
	
		<div id="posts" >
			
						
						
<div id="node-1145" class="post node node-field_report ">
		<div class="post-metadata grid_6">
			<div class="picture">
  <a href="../user/1043.html" title="View user profile."><img src="../sites/digitalartscorps.org/files/imagecache/profile_thumb/files/profile-anon.png" alt="Jack Waugh&#039;s picture" title="Jack Waugh&#039;s picture"  width="100" height="100" /></a></div>
			<a href="../user/1043.html">Jack Waugh</a><br />
			Center for Community Technology Services at the University of Baltimore <br />
			<em>, </em>
		</div>
		<div class="post-content grid_10">
							 		<div class="metadata-date grid_6 alpha"><strong>October 31, 2007 - 2:09pm</strong></div>
			 		<div class="metadata-comments grid_3 omega"><strong>2 comments</strong></div>
			 		<div class="clear"></div>
			 			
			<div class="post-content-inner"?>
			 	<a href="1145.html" title="The Rubaiyat of MATSUMOTO Yukihiro" rel="bookmark"><h1>The Rubaiyat of MATSUMOTO Yukihiro</h1></a>
			 				 	
			 	<div class="post-content-text">
				<p>I am participating in the development, in Ruby on Rails, of a generic Content Management System (CMS) and a library that lets administrators edit documents that use styles and can be displayed to the public (or a smaller audience) over the Web.  My current task is to make sure that when a server using this library exchanges the identifiers of documents and components with the browser, it encrypts the identifiers so that no user can falsify her right to see and edit those documents and components.</p>
<p>Am I the only CTC VISTA who uses the Ruby programming language?</p>
<p>The rest of this posting could be regarded as an appendix for those who want to look in some depth at what I have done so far.</p>
<p>I attach code that unit-tests a module I wrote to encrypt and decrypt IDs.  The testing code uses a package called "rspec", that promotes a style where your testing code is also a description in almost plain English of what the module under test is supposed to accomplish from the viewpoint of its callers.</p>
<p>Here is some explanation about the code I attached.</p>
<p>I wrote a class called CapabilityKey.  An instance is a randomly chosen key that can be used to encrypt and decrypt identifiers.  The code reflects my use of a jargon that refers to an encrypted identifier as a "capability", because, when you (a person or a process on some computer) have it in hand, it denotes your capability or right to access or edit some resource.  This jargon occurs in the literature.</p>
<p>In this context, the type of an identifer is simply integer, and it is what is stored in the database to identify the records representing the resources we are protecting.  The simple and naive way to identify the resources in interactions between the server and the browser would be simply to send the id.</p>
<p>Maybe I will rename the class as CapabilityLock because a lot of what it does is make sure that the "capability", when used actually as a key, fits the lock, that is, is valid in the context in which someone is attempting to use it.  Really, the term "key" refers better to the capability than to the thing I called a key in this code, which is really more the lock.  In fact, some of the literature about capabilities refers to them as keys.  They function very much like a car key.  You shouldn't be able to drive a given car anywhere unless you have the key.</p>
<p>The testing code that I attach refers to the fact that my class or one of its instances should satisfy the following "shoulds", each of which I now try to make a little plainer as to its meaning than the code does:</p>
<p>it "Should support instances being marshaled."</p>
<p>This means that the regular "marshaling" facility included with Ruby should be able to save off a representation of an instance of my class to a file and should be able to correctly recover a usable copy from such a saved copy.</p>
<p>it "Should supply a capability that is a string."</p>
<p>This means that when we give an instance an identifier and say we want back an encrypted version of that identifier, the data type of the resulting "capability" should be String.</p>
<p>it "Should recover the correct id and tag from a valid capability."</p>
<p>This says that when I give an instance an identifier and ask it for a capability, and if I give the same instance back the capability and ask it for the id that that capability denotes, it should give me back the correct id.  (Another piece of data, a "tag", is also tagging along with the id in these operations, but we don't need to get into that here).</p>
<p>it "Should detect invalid capabilities in the vast majority of cases."</p>
<p>This test case is an attempt to see whether it is, as it should be, very unlikely that someone dinking around could generate some string that would look like a valid capability to the lock.  The way I test that is by creating 1000 locks and trying one key (or "capability") in them that they didn't generate, but that another lock did generate.  Each creation of a lock uses the pseudorandom number generator to determine the characteristic of the lock.  I consider this test quite equivalent to generating 1000 keys at random and testing them in one lock, although I am really doing the other way around.  So, it's at least some way to give confidence that the wrong key won't fit the wrong lock, and this in turn gives some confidence that it would be hard to carve a key and get it to work in a given lock.  No doubt a cryptologist would say that such a test is far from perfect.  The cryptologist could argue, for example, that for all she can tell from the test cases, the locks might be generating capabilities that all begin with "foo", and the locks might be accepting any string starting with "bar:" as a valid capability, for example, "bar:33" as a capability to ID=33.  Testing can't test everything, when it comes to cryptographic strength.  But this test at least gives some rudimentary indication that the locks won't take each others' keys.</p>
<table id="attachments" class="sticky-enabled">
 <thead><tr><th>Attachment</th><th>Size</th> </tr></thead>
<tbody>
 <tr class="odd"><td><a href="../sites/digitalartscorps.org/files/files/capabilities_key_spec.rb_.txt">Code that unit-tests a module I wrote to encrypt and decrypt IDs.</a></td><td>1 KB</td> </tr>
</tbody>
</table>
				
				
				
				<hr /><div id="comments">
  <a id="comment-611"></a>
<div class="comment comment-published">
  <p>Comment from <a href="../user/813.html" title="View user profile.">Morgan Sully</a> on October 31, 2007 - 6:02pm</p>
  <div class="comment-metadata grid_2">
  	<div class="picture">
  <a href="../user/813.html" title="View user profile."><img src="../sites/digitalartscorps.org/files/imagecache/profile_thumb/files/profile-anon.png" alt="Morgan Sully&#039;s picture" title="Morgan Sully&#039;s picture"  width="100" height="100" /></a></div>
  </div>

  <div class="comment-content grid_7 omega">
  	<div class="comment-content-inner">
	    <p>Hey Jack,<br />
This looks like completely obscure work to me, but I am glad that you can find poetry in Ruby's coding.   In my own work with CSS I have come to appreciate simple, shorthand ways to instruct browsers to render styles for a webpage.  I'm no code novelist but it's certainly fascinating (to me)  to see the output of what I write (or sometime copy and paste;).</p>
<p>Any visible finished products up online?  The code looks cryptic to me (pun intended).</p>
	    
	         </div>
  </div>
  <div class="clear"></div>
</div><a id="comment-612"></a>
<div class="comment comment-published">
  <p>Comment from <a href="../user/1043.html" title="View user profile.">Jack Waugh</a> on October 31, 2007 - 6:18pm</p>
  <div class="comment-metadata grid_2">
  	<div class="picture">
  <a href="../user/1043.html" title="View user profile."><img src="../sites/digitalartscorps.org/files/imagecache/profile_thumb/files/profile-anon.png" alt="Jack Waugh&#039;s picture" title="Jack Waugh&#039;s picture"  width="100" height="100" /></a></div>
  </div>

  <div class="comment-content grid_7 omega">
  	<div class="comment-content-inner">
	    <p>"Any visible finished products up online?"  Not including this code that I am working on.  It is new stuff under development.  I could point you to sites built by <a href="http://ccts.ubalt.edu/">CTSS</a> before I arrived, however, if you want.</p>
	    
	         </div>
  </div>
  <div class="clear"></div>
</div></div>
				
								</div>
		</div>
	</div>
	

<div class="clear"></div>
</div>
<div id="comments">
  <a id="comment-611"></a>
<div class="comment comment-published">
  <p>Comment from <a href="../user/813.html" title="View user profile.">Morgan Sully</a> on October 31, 2007 - 6:02pm</p>
  <div class="comment-metadata grid_2">
  	<div class="picture">
  <a href="../user/813.html" title="View user profile."><img src="../sites/digitalartscorps.org/files/imagecache/profile_thumb/files/profile-anon.png" alt="Morgan Sully&#039;s picture" title="Morgan Sully&#039;s picture"  width="100" height="100" /></a></div>
  </div>

  <div class="comment-content grid_7 omega">
  	<div class="comment-content-inner">
	    <p>Hey Jack,<br />
This looks like completely obscure work to me, but I am glad that you can find poetry in Ruby's coding.   In my own work with CSS I have come to appreciate simple, shorthand ways to instruct browsers to render styles for a webpage.  I'm no code novelist but it's certainly fascinating (to me)  to see the output of what I write (or sometime copy and paste;).</p>
<p>Any visible finished products up online?  The code looks cryptic to me (pun intended).</p>
	    
	         </div>
  </div>
  <div class="clear"></div>
</div><a id="comment-612"></a>
<div class="comment comment-published">
  <p>Comment from <a href="../user/1043.html" title="View user profile.">Jack Waugh</a> on October 31, 2007 - 6:18pm</p>
  <div class="comment-metadata grid_2">
  	<div class="picture">
  <a href="../user/1043.html" title="View user profile."><img src="../sites/digitalartscorps.org/files/imagecache/profile_thumb/files/profile-anon.png" alt="Jack Waugh&#039;s picture" title="Jack Waugh&#039;s picture"  width="100" height="100" /></a></div>
  </div>

  <div class="comment-content grid_7 omega">
  	<div class="comment-content-inner">
	    <p>"Any visible finished products up online?"  Not including this code that I am working on.  It is new stuff under development.  I could point you to sites built by <a href="http://ccts.ubalt.edu/">CTSS</a> before I arrived, however, if you want.</p>
	    
	         </div>
  </div>
  <div class="clear"></div>
</div></div>
		</div>
		
				<div class="clear"></div>
	
	</div>

	

	<!-- Footer -->
		<div id="bottom">
		<div id="bottomContent" class="container_16">
			<div id="logos">
				<a href="http://www.umb.edu/"><img src="../sites/digitalartscorps.org/themes/nostalgiacorps/images/umassLogo.png" height="50"></a>
				<a href="http://www.nationalservice.gov/"><img src="../sites/digitalartscorps.org/themes/nostalgiacorps/images/cncsLogo.jpg" height="50"></a>
				<a href="http://transmissionproject.org/"><img src="../sites/digitalartscorps.org/themes/nostalgiacorps/images/transmissionLogo.png" height="50"></a>
			</div>
			<div id="bottomNav">
				<p>
				<a href="http://digitalartscorps.org/node/index.php?section=home">Home</a> | 
				<a href="http://digitalartscorps.org/node/index.php?section=corp">Current Corps</a> | 
				<a href="http://digitalartscorps.org/node/index.php?section=feildReports">Field Reports</a> | 
				<a href="http://digitalartscorps.org/node/index.php?section=alumni">Alumni Corps</a> | 
				<a href="http://digitalartscorps.org/node/index.php?section=wiki">The Wiki</a> | 
				<a href="http://digitalartscorps.org/node/index.php?section=benefits">Benefits</a> | 
				<a href="http://digitalartscorps.org/node/index.php?section=contact">Contact</a>
				</p>
				<p>(617) 287-7122 | <a href="../index.html">info@digitalartscorps.org</a></p>
			</div>
		</div>
				<div class="clear"></div>

	</div>

<script type="text/javascript" src="../sites/all/modules/google_analytics/googleanalytics.js%3Fs"></script>
<script type="text/javascript">
<!--//--><![CDATA[//><!--
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
//--><!]]>
</script>
<script type="text/javascript">
<!--//--><![CDATA[//><!--
try{var pageTracker = _gat._getTracker("UA-10013464-2");pageTracker._trackPageview();} catch(err) {}
//--><!]]>
</script>
</body>
</html>